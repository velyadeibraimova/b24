{"version":3,"file":"script.js","sources":["src/index.js"],"sourcesContent":["import { Dom, ajax as Ajax, Event, Tag, Loc, Runtime, Type } from 'main.core';\nimport { Loader } from 'main.loader';\nimport { EventEmitter, type BaseEvent } from 'main.core.events';\n\nexport type ImportantMessagesWidgetOptions = {\n\twidgetContainerId: string;\n\tmessages: ImportantMessagesWidgetMessage[];\n\toptions: Object;\n\tpostInfo: Object;\n\turl: string;\n\tpageSettings: ImportantMessagesWidgetPageSettings;\n}\n\ntype ImportantMessagesWidgetPageSettings = {\n\tNavPageCount: number;\n\tNavPageNomer: number;\n\tNavPageSize: number;\n\tNavRecordCount: number;\n\tbDescPageNumbering: boolean;\n\tnPageSize: number;\n\tiNumPage?: number;\n}\n\nexport type ImportantMessagesWidgetMessage = {\n\tid: string;\n\tauthor_avatar: string;\n\tauthor_url: string;\n\tauthor_name: string;\n\tpost_url: string;\n\tpost_text: string;\n}\n\ntype FetchNewMessagesResponse = {\n\tpageSettings: ImportantMessagesWidgetPageSettings;\n\tmessages: ImportantMessagesWidgetMessage[];\n}\n\nexport class ImportantMessagesWidget\n{\n\t#widgetContainerId: string;\n\t#messages: ImportantMessagesWidgetMessage[] = [];\n\t#options = {};\n\t#postInfo = {};\n\t#url: string = '';\n\t#pageSettings: ImportantMessagesWidgetPageSettings = {};\n\t#activeMessageIndex = 0;\n\t#loader: Loader;\n\t#loaderOverlay: HTMLElement;\n\t#lockButtons: boolean = false;\n\n\tconstructor(options: ImportantMessagesWidgetOptions)\n\t{\n\t\tthis.#widgetContainerId = options.widgetContainerId;\n\t\tthis.#messages = options.messages;\n\t\tthis.#options = options.options;\n\t\tthis.#postInfo = options.postInfo;\n\t\tthis.#url = options.url;\n\t\tthis.#pageSettings = options.pageSettings;\n\n\t\tthis.#postInfo.AJAX_POST = 'Y';\n\n\t\tthis.init();\n\t}\n\n\tinit(): void\n\t{\n\t\tthis.#renderMessages();\n\n\t\tEvent.bind(this.#getNextMessageButton(), 'click', () => {\n\t\t\tif (this.#lockButtons)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.#lockButtons = true;\n\n\t\t\tthis.#handleClickOnNextBtn()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.#lockButtons = false;\n\t\t\t\t\tthis.updateNavigation();\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.#lockButtons = false;\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\n\t\tEvent.bind(this.#getPrevMessageButton(), 'click', () => {\n\t\t\tif (this.#lockButtons)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.#lockButtons = true;\n\n\t\t\tthis.#showPrevMessage()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.#lockButtons = false;\n\t\t\t\t\tthis.updateNavigation();\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.#lockButtons = false;\n\t\t\t\t})\n\t\t\t;\n\t\t});\n\n\t\tEvent.bind(this.#getReadMessageButton(), 'click', () => {\n\t\t\tconst activeMessage = this.getActiveMessage();\n\t\t\tthis.#readMessage(activeMessage.id);\n\t\t});\n\n\t\tEventEmitter.subscribe('onImportantPostRead', (event) => {\n\t\t\tconst [messageId] = event.getData();\n\t\t\tthis.#removeMessageFromList(messageId);\n\t\t});\n\n\t\tconst loadNewMessages = Runtime.debounce(() => {\n\t\t\tthis.#loadNewMessages()\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.updateNavigation();\n\t\t\t\t\tthis.show();\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// fail silently\n\t\t\t\t})\n\t\t\t;\n\t\t}, 6000);\n\n\t\tEventEmitter.subscribe('onPullEvent-main', (event: BaseEvent) => {\n\t\t\tif (this.#messages.length > 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst [command, params] = event.getCompatData();\n\t\t\tif (\n\t\t\t\tcommand === 'user_counter'\n\t\t\t\t&& params[Loc.getMessage('SITE_ID')]\n\t\t\t\t&& params[Loc.getMessage('SITE_ID')]['BLOG_POST_IMPORTANT']\n\t\t\t)\n\t\t\t{\n\t\t\t\tloadNewMessages();\n\t\t\t}\n\t\t});\n\n\t\tthis.updateNavigation();\n\t}\n\n\tshow(): void\n\t{\n\t\tif (this.#messages.length === 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeMessage = this.getActiveMessage();\n\t\tif (!activeMessage)\n\t\t{\n\t\t\tconst message = this.#messages[this.#activeMessageIndex] || null;\n\t\t\tconst element = this.#getMessagesListContainer().querySelector(`[data-message-id=\"${message?.id}\"]`);\n\t\t\tif (element)\n\t\t\t{\n\t\t\t\tDom.addClass(element, '--active');\n\t\t\t}\n\t\t}\n\n\t\tDom.removeClass(this.#getWidgetContainer(), ['--hidden', '--hiding']);\n\t}\n\n\thide(): void\n\t{\n\t\tDom.addClass(this.#getWidgetContainer(), '--hiding');\n\t\tEvent.bindOnce(this.#getWidgetContainer(), 'transitionend', () => {\n\t\t\tDom.removeClass(this.#getWidgetContainer(), '--hiding');\n\t\t\tDom.addClass(this.#getWidgetContainer(), '--hidden');\n\t\t});\n\t}\n\n\t#needLoadNewMessages(): boolean\n\t{\n\t\treturn (\n\t\t\t(this.#pageSettings.bDescPageNumbering === true && this.#pageSettings.NavPageNomer > 1)\n\t\t\t|| this.#messages.length < this.#pageSettings.NavRecordCount\n\t\t);\n\t}\n\n\tasync #loadNewMessages(): Promise\n\t{\n\t\tconst data = await this.#fetchNewMessages();\n\t\tconst messages = data.messages;\n\n\t\tthis.#setPageSettings(data.pageSettings);\n\n\t\tfor (const message of messages)\n\t\t{\n\t\t\tif (this.#getMessageById(message.id))\n\t\t\t{\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tthis.#messages.push(message);\n\n\t\t\tDom.append(\n\t\t\t\tthis.#renderMessageElement(message, false),\n\t\t\t\tthis.#getMessagesListContainer(),\n\t\t\t);\n\t\t}\n\t}\n\n\t#fetchNewMessages(): Promise<FetchNewMessagesResponse>\n\t{\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst request = this.#postInfo;\n\t\t\tif (this.#pageSettings.bDescPageNumbering)\n\t\t\t{\n\t\t\t\tthis.#pageSettings.iNumPage = this.#pageSettings.NavPageNomer - 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.#pageSettings.iNumPage = this.#pageSettings.NavPageNomer + 1;\n\t\t\t}\n\n\t\t\trequest.page_settings = this.#pageSettings;\n\t\t\trequest.sessid = BX.bitrix_sessid();\n\n\t\t\tAjax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\tprocessData: true,\n\t\t\t\turl: this.#url,\n\t\t\t\tdata: request,\n\t\t\t\tonsuccess: (response: string) => {\n\t\t\t\t\tconst data = JSON.parse(response);\n\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tmessages: data.data,\n\t\t\t\t\t\tpageSettings: data.page_settings,\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tonfailure: (error) => {\n\t\t\t\t\treject(error);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\t#renderMessages(): void\n\t{\n\t\tthis.#messages.forEach((message, index) => {\n\t\t\tDom.append(\n\t\t\t\tthis.#renderMessageElement(message, index === 0),\n\t\t\t\tthis.#getMessagesListContainer(),\n\t\t\t);\n\t\t});\n\t}\n\n\t#renderMessageElement(messageData: ImportantMessagesWidgetMessage, isActive: boolean): HTMLElement\n\t{\n\t\treturn Tag.render`\n\t\t\t<div class=\"sidebar-imp-mess ${isActive ? '--active' : ''}\" data-message-id=\"${messageData.id}\">\n\t\t\t\t<a href=\"${messageData.post_url}\" class=\"sidebar-imp-mess-wrap\">\n\t\t\t\t\t<div class=\"sidebar-imp-mess-avatar-block\">\n\t\t\t\t\t\t<div class=\"sidebar-imp-mess-author-avatar ui-icon ui-icon-common-user\"><i ${messageData.author_avatar}></i></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"sidebar-imp-mess-info\">\n\t\t\t\t\t\t<div class=\"sidebar-imp-mess-title\">${messageData.author_name}</div>\n\t\t\t\t\t\t<div class=\"sidebar-imp-mess-text\">${messageData.post_text}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tasync #handleClickOnNextBtn(): Promise<void>\n\t{\n\t\tif (!this.#hasNextMessage() && this.#needLoadNewMessages())\n\t\t{\n\t\t\tthis.#showLoader();\n\t\t\tawait this.#loadNewMessages();\n\t\t\tthis.#hideLoader();\n\t\t}\n\n\t\treturn this.#showNextMessage()\n\t\t\t.then(() => {\n\t\t\t\tthis.updateNavigation();\n\t\t\t})\n\t\t\t.catch(() => {})\n\t\t;\n\t}\n\n\tasync #showNextMessage(): Promise<void>\n\t{\n\t\tif (!this.#hasNextMessage())\n\t\t{\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst activeMessage = this.#getMessagesListContainer().querySelector('.sidebar-imp-mess.--active');\n\t\t\tconst nextMessage = activeMessage.nextElementSibling || this.#getMessagesListContainer().firstElementChild;\n\n\t\t\tthis.#activeMessageIndex = this.#getNextMessageIndex();\n\n\t\t\tDom.addClass(activeMessage, '--slide-out-left');\n\t\t\tDom.addClass(nextMessage, '--active');\n\t\t\tDom.addClass(nextMessage, '--slide-in-right');\n\t\t\tEvent.bindOnce(activeMessage, 'animationend', () => {\n\t\t\t\tDom.removeClass(activeMessage, '--active');\n\t\t\t\tDom.removeClass(activeMessage, '--slide-out-left');\n\t\t\t\tDom.removeClass(nextMessage, '--slide-in-right');\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\t#showPrevMessage(): Promise<void>\n\t{\n\t\tif (!this.#hasPrevMessage())\n\t\t{\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst activeMessage = this.#getMessagesListContainer().querySelector('.sidebar-imp-mess.--active');\n\t\t\tconst prevMessage = activeMessage.previousElementSibling || this.#getMessagesListContainer().lastElementChild;\n\n\t\t\tthis.#activeMessageIndex = this.#getPrevMessageIndex();\n\n\t\t\tDom.addClass(activeMessage, '--slide-out-right');\n\t\t\tDom.addClass(prevMessage, '--active');\n\t\t\tDom.addClass(prevMessage, '--slide-in-left');\n\t\t\tEvent.bindOnce(activeMessage, 'animationend', () => {\n\t\t\t\tDom.removeClass(activeMessage, '--active');\n\t\t\t\tDom.removeClass(activeMessage, '--slide-out-right');\n\t\t\t\tDom.removeClass(prevMessage, '--slide-in-left');\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t}\n\n\tasync #readMessage(messageId: string): void\n\t{\n\t\tconst data = this.#getMessageById(messageId);\n\t\tconst options = [];\n\t\tfor (const option of this.#options)\n\t\t{\n\t\t\toptions.push({\n\t\t\t\tpost_id: data.id,\n\t\t\t\tname: option.name,\n\t\t\t\tvalue: option.value,\n\t\t\t});\n\t\t}\n\n\t\tlet request = this.#postInfo;\n\t\trequest.options = options;\n\t\trequest.page_settings = this.#pageSettings;\n\t\trequest.sessid = BX.bitrix_sessid();\n\t\trequest = Ajax.prepareData(request);\n\n\t\tthis.#showLoader();\n\n\t\tif (!this.#hasNextMessage() && this.#needLoadNewMessages())\n\t\t{\n\t\t\tawait this.#loadNewMessages();\n\t\t}\n\n\t\tAjax({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.#url + (this.#url.includes('?') ? '&' : '?') + request,\n\t\t\tonsuccess: (response) => {\n\t\t\t\tconst data = JSON.parse(response);\n\t\t\t\tthis.#removeMessageFromList(messageId, data.page_settings);\n\t\t\t\tthis.#hideLoader();\n\t\t\t},\n\t\t\tonfailure: () => {\n\t\t\t\tthis.#hideLoader();\n\t\t\t},\n\t\t});\n\t}\n\n\t#setPageSettings(pageSettings: ImportantMessagesWidgetPageSettings): void\n\t{\n\t\tthis.#pageSettings = pageSettings;\n\t}\n\n\t#hasNextMessage(): boolean\n\t{\n\t\treturn this.#activeMessageIndex + 1 <= this.#messages.length - 1;\n\t}\n\n\t#getNextMessageIndex(): number\n\t{\n\t\treturn this.#activeMessageIndex + 1 > this.#messages.length - 1 ? 0 : this.#activeMessageIndex + 1;\n\t}\n\n\t#hasPrevMessage(): boolean\n\t{\n\t\treturn this.#activeMessageIndex - 1 >= 0;\n\t}\n\n\t#getPrevMessageIndex(): number\n\t{\n\t\treturn this.#activeMessageIndex - 1 < 0 ? this.#messages.length - 1 : this.#activeMessageIndex - 1;\n\t}\n\n\t#removeMessageFromList(messageId: string, pageSettings = null): void\n\t{\n\t\tconst finalize = () => {\n\t\t\tconst activeMessage = this.getActiveMessage();\n\t\t\tDom.remove(messageElement);\n\t\t\tthis.#messages = this.#messages.filter((message) => message.id !== messageId);\n\n\t\t\tthis.#activeMessageIndex = Math.max(\n\t\t\t\t0,\n\t\t\t\tthis.#messages.findIndex((message) => message.id === activeMessage.id),\n\t\t\t);\n\n\t\t\tif (pageSettings === null)\n\t\t\t{\n\t\t\t\tthis.#setPageSettings({\n\t\t\t\t\t...this.#pageSettings,\n\t\t\t\t\tNavRecordCount: Math.max(0, this.#pageSettings.NavRecordCount - 1),\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.#setPageSettings(pageSettings);\n\t\t\t}\n\n\t\t\tthis.updateNavigation();\n\t\t\tif (this.#messages.length === 0)\n\t\t\t{\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t};\n\n\t\tconst messageElement = this.#getMessagesListContainer().querySelector(`[data-message-id=\"${messageId}\"]`);\n\t\tconst activeMessageElement = this.#getActiveMessageElement();\n\t\tif (messageElement === activeMessageElement)\n\t\t{\n\t\t\tif (this.#hasNextMessage())\n\t\t\t{\n\t\t\t\tthis.#showNextMessage().then(finalize).catch(() => {});\n\t\t\t}\n\t\t\telse if (this.#hasPrevMessage())\n\t\t\t{\n\t\t\t\tthis.#showPrevMessage().then(finalize).catch(() => {});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfinalize();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfinalize();\n\t\t}\n\t}\n\n\t#getActiveMessageElement(): HTMLElement\n\t{\n\t\treturn this.#getMessagesListContainer().querySelector('.--active');\n\t}\n\n\t#getMessageById(messageId: string): ?ImportantMessagesWidgetMessage\n\t{\n\t\treturn this.#messages.find((message) => message.id === messageId);\n\t}\n\n\t#getMessagesListContainer(): HTMLElement\n\t{\n\t\treturn document.getElementById('sidebar-imp-mess-list');\n\t}\n\n\t#getReadMessageButton(): HTMLButtonElement\n\t{\n\t\treturn document.getElementById('sidebar-imp-mess-read-button');\n\t}\n\n\t#getWidgetContainer(): HTMLElement\n\t{\n\t\treturn document.getElementById(this.#widgetContainerId);\n\t}\n\n\t#updateCurrentMessageNumber(): void\n\t{\n\t\tconst currentMessageNumberContainer = document.getElementById('sidebar-imp-mess-current-mess-number');\n\n\t\tcurrentMessageNumberContainer.textContent = this.#activeMessageIndex + 1;\n\t}\n\n\t#updateTotalMessagesNumber(): void\n\t{\n\t\tconst totalMessagesNumberContainer = this.#getTotalMessagesNumberContainer();\n\t\ttotalMessagesNumberContainer.textContent = this.#pageSettings.NavRecordCount;\n\t}\n\n\t#getTotalMessagesNumberContainer(): HTMLElement\n\t{\n\t\treturn document.getElementById('sidebar-imp-mess-total');\n\t}\n\n\t#getActiveMessageIndex(): number\n\t{\n\t\treturn [...this.#getMessagesListContainer().children]\n\t\t\t.indexOf(this.#getMessagesListContainer().querySelector('.--active'))\n\t\t;\n\t}\n\n\tgetActiveMessage(): ImportantMessagesWidgetMessage | null\n\t{\n\t\treturn this.#messages[this.#getActiveMessageIndex()] || null;\n\t}\n\n\t#getPrevMessageButton(): HTMLButtonElement\n\t{\n\t\treturn document.getElementById('sidebar-imp-mess-prev');\n\t}\n\n\t#getNextMessageButton(): HTMLButtonElement\n\t{\n\t\treturn document.getElementById('sidebar-imp-mess-next');\n\t}\n\n\t#showLoader(): void\n\t{\n\t\tthis.#loaderOverlay = Tag.render`\n\t\t\t<div class=\"sidebar-widget-content-overlay\"></div>\n\t\t`;\n\n\t\tDom.style(this.#loaderOverlay, {\n\t\t\tposition: 'absolute',\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\twidth: '100%',\n\t\t\theight: '100%',\n\t\t\tbackground: 'rgba(255, 255, 255, 0.7)',\n\t\t});\n\n\t\tDom.append(this.#loaderOverlay, this.#getWidgetContainer());\n\n\t\tif (!this.#loader)\n\t\t{\n\t\t\tthis.#loader = new Loader({\n\t\t\t\tsize: 60,\n\t\t\t\ttarget: this.#loaderOverlay,\n\t\t\t\tcolor: '#0154C8',\n\t\t\t});\n\t\t}\n\n\t\tthis.#loader.show();\n\t}\n\n\t#hideLoader(): void\n\t{\n\t\tthis.#loader?.hide();\n\t\tDom.remove(this.#loaderOverlay);\n\t}\n\n\tupdateNavigation(): void\n\t{\n\t\tif (this.#activeMessageIndex >= this.#pageSettings.NavRecordCount - 1)\n\t\t{\n\t\t\tthis.#disableNextButton();\n\t\t}\n\t\telse if (this.#pageSettings.NavRecordCount > 1)\n\t\t{\n\t\t\tthis.#enableNextButton();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#disableNextButton();\n\t\t}\n\n\t\tif (this.#activeMessageIndex === 0)\n\t\t{\n\t\t\tthis.#disablePrevButton();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.#enablePrevButton();\n\t\t}\n\n\t\tthis.#updateCurrentMessageNumber();\n\t\tthis.#updateTotalMessagesNumber();\n\t}\n\n\t#enableNextButton()\n\t{\n\t\tthis.#getNextMessageButton().removeAttribute('disabled');\n\t}\n\n\t#disableNextButton()\n\t{\n\t\tthis.#getNextMessageButton().setAttribute('disabled', true);\n\t}\n\n\t#enablePrevButton()\n\t{\n\t\tthis.#getPrevMessageButton().removeAttribute('disabled');\n\t}\n\n\t#disablePrevButton()\n\t{\n\t\tthis.#getPrevMessageButton().setAttribute('disabled', true);\n\t}\n}\n"],"names":["ImportantMessagesWidget","options","widgetContainerId","messages","postInfo","url","pageSettings","AJAX_POST","init","Event","bind","then","updateNavigation","activeMessage","getActiveMessage","id","EventEmitter","subscribe","event","getData","messageId","loadNewMessages","Runtime","debounce","show","length","getCompatData","command","params","Loc","getMessage","message","element","querySelector","Dom","addClass","removeClass","bindOnce","NavRecordCount","bDescPageNumbering","NavPageNomer","data","push","append","Promise","resolve","reject","request","iNumPage","page_settings","sessid","BX","bitrix_sessid","Ajax","method","processData","onsuccess","response","JSON","parse","onfailure","error","forEach","index","messageData","isActive","Tag","render","post_url","author_avatar","author_name","post_text","nextMessage","nextElementSibling","firstElementChild","prevMessage","previousElementSibling","lastElementChild","option","post_id","name","value","prepareData","includes","finalize","remove","messageElement","filter","Math","max","findIndex","hide","activeMessageElement","find","document","getElementById","currentMessageNumberContainer","textContent","totalMessagesNumberContainer","children","indexOf","style","position","top","left","width","height","background","Loader","size","target","color","removeAttribute","setAttribute"],"mappings":"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"}